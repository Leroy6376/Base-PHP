<?php

function cutString(string $line, int $length = 12, string $appends = '...'): string
{
    return (mb_strlen($line) > $length) ? mb_strcut($line, 0, $length) . $appends : $line;
}

function phoneFormat(string $phone): string
{
    $phone = trim($phone);

    $res = preg_replace(
        [
            '/[\+]?([7|8])[-|\s]?\([-|\s]?(\d{3})[-|\s]?\)[-|\s]?(\d{3})[-|\s]?(\d{2})[-|\s]?(\d{2})/',
            '/[\+]?([7|8])[-|\s]?(\d{3})[-|\s]?(\d{3})[-|\s]?(\d{2})[-|\s]?(\d{2})/',
            '/[\+]?([7|8])[-|\s]?\([-|\s]?(\d{4})[-|\s]?\)[-|\s]?(\d{2})[-|\s]?(\d{2})[-|\s]?(\d{2})/',
            '/[\+]?([7|8])[-|\s]?(\d{4})[-|\s]?(\d{2})[-|\s]?(\d{2})[-|\s]?(\d{2})/',
            '/[\+]?([7|8])[-|\s]?\([-|\s]?(\d{4})[-|\s]?\)[-|\s]?(\d{3})[-|\s]?(\d{3})/',
            '/[\+]?([7|8])[-|\s]?(\d{4})[-|\s]?(\d{3})[-|\s]?(\d{3})/',
        ],
        [
            '+7-$2-$3-$4-$5',
            '+7-$2-$3-$4-$5',
            '+7-$2-$3-$4-$5',
            '+7-$2-$3-$4-$5',
            '+7-$2-$3-$4',
            '+7-$2-$3-$4',
        ],
        $phone
    );

    return $res;
}
